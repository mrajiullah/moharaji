
---
import BaseLayout from "../layouts/BaseLayout.astro";

const teachingBySubject = [
  {
    subject: "Networking & Internet Systems",
    items: [
      {
        code: "DVGB02",
        title: "Computer Networking I",
        terms: ["Spring"],
        years: [2020, 2021, 2022, 2023],
        url: "https://www.kau.se/en/education/programmes-and-courses/courses/DVGB02",
      },
      {
        code: "DVAD21",
        title: "Internet Architectures and Protocols",
        terms: ["Fall"],
        years: [2025],
        url: "https://www.kau.se/en/education/programmes-and-courses/courses/DVAD21",
      },
    ],
  },
  {
    subject: "Internet of Things (IoT)",
    items: [
      {
        code: "DVAD70",
        title: "Internet of Things",
        terms: ["Spring"],
        years: [2021, 2022, 2023, 2024, 2025, 2026],
        url: "https://www.kau.se/en/education/programmes-and-courses/courses/DVAD70",
      },
      {
        code: "DVAD71",
        title: "Internet of Things, Application Areas",
        terms: ["Spring"],
        years: [2023, 2024, 2025, 2026],
        url: "https://www.kau.se/en/education/programmes-and-courses/courses/DVAD71",
      },
      {
        code: "DVAD72",
        title: "Internet of Things, Infrastructures",
        terms: ["Spring"],
        years: [2023, 2024, 2025, 2026],
        url: "https://www.kau.se/en/education/programmes-and-courses/courses/DVAD72",
      },
      {
        code: "DVAD73",
        title: "Internet of Things, Data Management",
        terms: ["Spring"],
        years: [2023, 2024, 2025, 2026],
        url: "https://www.kau.se/en/education/programmes-and-courses/courses/DVAD73",
      },
      {
        code: "DVAD74",
        title: "Internet of Things, Privacy and Security",
        terms: ["Spring"],
        years: [2023, 2024, 2025, 2026],
        url: "https://www.kau.se/en/education/programmes-and-courses/courses/DVAD74",
      },
      {
        code: "DVAD75",
        title: "Internet of Things, Energy Optimization",
        terms: ["Spring"],
        years: [2023, 2024, 2025, 2026],
        url: "https://www.kau.se/en/education/programmes-and-courses/courses/DVAD75",
      },
    ],
  },
  {
    subject: "Operating Systems",
    items: [
      {
        code: "DVGB01",
        title: "Operating System",
        terms: ["Fall"],
        years: [2022, 2023],
        url: "https://www3.kau.se/kursplaner/en/DVGB01_20182_en.pdf",
        note: "Course plan (PDF)",
      },
      {
        code: "DVGB19",
        title: "Operating system",
        terms: ["Fall"],
        years: [2024, 2025],
        url: "https://www.kau.se/en/education/programmes-and-courses/courses/DVGB19",
      },
    ],
  },
];

function formatYears(years) {
  const ys = [...years].sort((a, b) => a - b);
  if (ys.length === 0) return "";
  // If contiguous, show as range; otherwise show list.
  const contiguous = ys.every((y, i) => i === 0 || y === ys[i - 1] + 1);
  return contiguous ? `${ys[0]}–${ys[ys.length - 1]}` : ys.join(", ");
}

function formatTerms(terms) {
  const ts = [...new Set(terms)];
  return ts.length ? ts.join(" / ") : "";
}
---

<BaseLayout title="Teaching — Mohammad Rajiullah">
  <section class="card section">
    <h2>Teaching</h2>
    <p class="small">
      Courses taught at Karlstad University, grouped by subject area.
    </p>

    <div class="divider"></div>

    {teachingBySubject.map((block) => (
      <section style="margin-top: 1.5rem;">
        <h2 style="margin: 0 0 .75rem;">{block.subject}</h2>

        <ul style="list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:.75rem;">
          {block.items.map((c) => (
            <li class="card" style="padding: .9rem 1rem;">
              <div style="display:flex; flex-wrap:wrap; justify-content:space-between; gap:.5rem; align-items:flex-start;">
                <div style="display:flex; flex-direction:column; gap:.35rem; min-width: 16rem;">
                  <a
                    href={c.url}
                    target="_blank"
                    rel="noopener"
                    style="font-weight:800; color:#101828; text-decoration:none;"
                  >
                    {c.code}: {c.title}
                  </a>

                  <div class="small" style="opacity:.9;">
                    {formatTerms(c.terms)} {formatYears(c.years)}
                    {c.note ? <span style="opacity:.85;"> · {c.note}</span> : null}
                  </div>
                </div>

                <span class="pill">{formatTerms(c.terms)}</span>
              </div>
            </li>
          ))}
        </ul>
      </section>
    ))}
  </section>
</BaseLayout>


